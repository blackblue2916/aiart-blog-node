<form class="ivForm">
  <div class="mt-3">
    <label class="text-[12px]" for="bj_name">&#10148;Name</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="bj_name"
      id="bj_name"
      type="text"
      placeholder="* bj name..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="title">&#10148;Title</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="title"
      id="title"
      type="text"
      placeholder="* title..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="play_link">&#10148;Play Link</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="play_link"
      id="play_link"
      type="text"
      placeholder="* play link..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="download_link">&#10148;Download Link</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="download_link"
      id="download_link"
      type="text"
      placeholder="* down link..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="img_url">&#10148;Image Preview</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="img_url"
      id="img_url"
      type="text"
      placeholder="* image url..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="watch_level">&#10148;Watch Level</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="watch_level"
      id="watch_level"
      type="number"
      placeholder="* watch level..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="watch_coin">&#10148;Watch Coin</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="watch_coin"
      id="watch_coin"
      type="number"
      value="5"
      placeholder="* watch coin..."
      required
    />
  </div>

  <div class="mt-3">
    <label class="text-[12px]" for="download_coin">&#10148;Download Coin</label>
    <input
      class="w-full border rounded-[4px] border-gray-500 py-1 px-2"
      name="download_coin"
      id="download_coin"
      type="number"
      value="20"
      placeholder="* download coin..."
      required
    />
  </div>

  <div class="mt-5">
    <button
      class="w-full border rounded-[4px] bg-purple-500 py-2 text-white"
      type="submit"
    >
      提交更新
    </button>
  </div>
</form>
<script>
  $(document).ready(() => {
    const ivForm = document.querySelector(".ivForm");
    ivForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const bj_name = document.getElementById("bj_name");
      const title = document.getElementById("title");
      const play_link = document.getElementById("play_link");
      const download_link = document.getElementById("download_link");
      const img_url = document.getElementById("img_url");
      const watch_level = document.getElementById("watch_level");
      const watch_coin = document.getElementById("watch_coin");
      const download_coin = document.getElementById("download_coin");
      const formData = {
        type: "iv_data",
        bj_name: bj_name.value,
        title: title.value,
        play_link: play_link.value,
        download_link: download_link.value,
        img_url: img_url.value,
        watch_level: watch_level.value,
        watch_coin: watch_coin.value,
        download_coin: download_coin.value,
      };
      fetch("/admin/add-video", {
        method: "post",
        mode: "cors",
        body: formData,
      })
        .then((res) => res.json())
        .then((data) => {
          if (data.status == 201) {
            window.location.reload();
          }
        });
    });
  });
</script>
